{
  "success": true,
  "data": {
    "id": "template-001",
    "organization_id": "123e4567-e89b-12d3-a456-426614174000",
    "template_code": "invoice_sale_co",
    "name": "Factura de Venta - Colombia",
    "description": "Plantilla para el procesamiento de facturas de venta en Colombia con IVA",
    "voucher_type": "invoice_sale",
    "country_code": "CO",
    "dsl_content": "// Plantilla DSL para Factura de Venta Colombia\n// Genera asientos contables automáticamente\n\nrule \"process_invoice_sale\" {\n    when {\n        voucher.type == \"invoice_sale\"\n        voucher.country == \"CO\"\n    }\n    then {\n        // Debitar cuenta por cobrar\n        debit(\"130505\", voucher.total_amount, voucher.description)\n        \n        // Acreditar ventas (sin IVA)\n        credit(\"4135\", voucher.subtotal, \"Venta \" + voucher.number)\n        \n        // Acreditar IVA por pagar\n        if (voucher.iva_amount > 0) {\n            credit(\"2408\", voucher.iva_amount, \"IVA Factura \" + voucher.number)\n        }\n        \n        // Manejar retenciones si existen\n        if (voucher.retention_amount > 0) {\n            debit(\"1355\", voucher.retention_amount, \"Retención \" + voucher.number)\n        }\n    }\n}",
    "compiled_dsl": {
      "ast": "...",
      "compiled_at": "2025-01-24T10:00:00Z",
      "compilation_status": "SUCCESS",
      "validation_errors": []
    },
    "version": 3,
    "is_active": true,
    "usage_stats": {
      "times_used": 1247,
      "last_used": "2025-01-24T10:30:00Z",
      "success_rate": 99.8,
      "average_processing_time": 125
    },
    "test_data": {
      "voucher": {
        "type": "invoice_sale",
        "country": "CO",
        "number": "FV-001234",
        "total_amount": 2380000,
        "subtotal": 2000000,
        "iva_amount": 380000,
        "retention_amount": 0,
        "description": "Venta productos terminados"
      },
      "expected_result": [
        {
          "account": "130505",
          "debit": 2380000,
          "credit": 0,
          "description": "Venta productos terminados"
        },
        {
          "account": "4135",
          "debit": 0,
          "credit": 2000000,
          "description": "Venta FV-001234"
        },
        {
          "account": "2408",
          "debit": 0,
          "credit": 380000,
          "description": "IVA Factura FV-001234"
        }
      ]
    },
    "validation_rules": [
      {
        "rule": "balance_check",
        "description": "Total débitos debe ser igual a total créditos",
        "is_critical": true
      },
      {
        "rule": "account_existence",
        "description": "Todas las cuentas deben existir en el plan de cuentas",
        "is_critical": true
      },
      {
        "rule": "amount_validation",
        "description": "Los montos deben ser positivos",
        "is_critical": true
      }
    ],
    "related_templates": [
      {
        "id": "template-002",
        "template_code": "credit_note_co",
        "name": "Nota Crédito - Colombia",
        "relationship": "reverse_operation"
      },
      {
        "id": "template-003",
        "template_code": "invoice_purchase_co",
        "name": "Factura de Compra - Colombia", 
        "relationship": "similar_type"
      }
    ],
    "change_log": [
      {
        "version": 3,
        "change_date": "2025-01-20T15:30:00Z",
        "changed_by": "user-001",
        "changes": "Mejorada validación de retenciones",
        "is_active": true
      },
      {
        "version": 2,
        "change_date": "2025-01-15T10:00:00Z",
        "changed_by": "user-001",
        "changes": "Agregado soporte para múltiples tipos de IVA",
        "is_active": false
      },
      {
        "version": 1,
        "change_date": "2025-01-01T00:00:00Z",
        "changed_by": "system",
        "changes": "Versión inicial",
        "is_active": false
      }
    ],
    "created_at": "2025-01-01T00:00:00Z",
    "updated_at": "2025-01-20T15:30:00Z",
    "created_by": "system",
    "last_updated_by": "user-001"
  },
  "timestamp": "2025-01-24T11:00:00Z"
}